{"version":3,"sources":["videoplayer.js"],"names":[],"mappings":"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","file":"compiled-videoplayer.js","sourcesContent":["const API_URL = \"./videos.json\";\r\n\r\ndocument.addEventListener('DOMContentLoaded', function() {\r\n    videoplayer.init();\r\n});\r\n\r\nvar videoplayer = (function() {\r\n    var videocontainer;\r\n    var videoplayer;\r\n\r\n    var playbutton;\r\n    var pausebutton;\r\n    var backbutton;\r\n    var nextbutton;\r\n    var mutebutton;\r\n    var unmutebutton;\r\n    var fullscreenbutton;\r\n\r\n    /*\r\n        Nær í upplýsingar um myndbönd og nær í rétt mynbdand\r\n        og setur í spilun.\r\n    */\r\n    function fetchData() {\r\n        const url = new URL(window.location.href);\r\n        const video_id = url.searchParams.get('id');\r\n\r\n        var r = new XMLHttpRequest();\r\n        //Set upp beiðni\r\n        r.open('GET', API_URL, true);\r\n\r\n        r.onload = function() {\r\n            if(r.status == 200) {\r\n            var results = JSON.parse(r.response);\r\n            const videoInfo = results.videos[video_id - 1];\r\n            createVideoPlayer(videoInfo);\r\n            } else if (r.status >= 400) {\r\n\r\n            }\r\n        }\r\n\r\n        r.onerror = function() {\r\n            console.log('Óþekkt villa');\r\n        }\r\n\r\n        r.send();\r\n    }\r\n\r\n    /**\r\n     * Býr til nýjan video player með stýrihnöppum\r\n     * \r\n     */\r\n    function createVideoPlayer(videoInfo) {\r\n\r\n        const heading = document.createElement('h2');\r\n        heading.className = 'videoplayer__heading';\r\n        heading.textContent = videoInfo.title;\r\n        videoplayer = document.createElement('video');\r\n        videoplayer.className = 'videoplayer__view';\r\n        videoplayer.src = videoInfo.video;\r\n\r\n        videocontainer.appendChild(heading);\r\n        videocontainer.appendChild(videoplayer);\r\n        createControls();\r\n        videoplayer.play();\r\n\r\n    }\r\n\r\n    /*\r\n        Býr til alla hnapp og bætir þeim í nýjan container\r\n    */\r\n    function createControls() {\r\n        //Bý til elements\r\n        const controlsContainer = document.createElement('div');\r\n        controlsContainer.className = 'videoplayer__controls';\r\n\r\n        backbutton =        createControlButton(controlsContainer, 'back');\r\n        playbutton =        createControlButton(controlsContainer, 'play');\r\n        pausebutton =       createControlButton(controlsContainer, 'pause');\r\n        mutebutton =        createControlButton(controlsContainer, 'mute');\r\n        unmutebutton =      createControlButton(controlsContainer, 'unmute');\r\n        fullscreenbutton =  createControlButton(controlsContainer, 'fullscreen');\r\n        nextbutton =        createControlButton(controlsContainer, 'next');\r\n\r\n        setControls();\r\n\r\n        videocontainer.appendChild(controlsContainer);\r\n    }\r\n\r\n    /*\r\n        Býr til Controls hnapp og bætir honum\r\n        í buttonContainer\r\n    */\r\n    function createControlButton(buttonContainer, buttonName) {\r\n        const button = document.createElement('img');\r\n        button.className = \"videoplayer__controls__item videoplayer__controls__item--\" + buttonName;\r\n        button.src = 'img/' + buttonName + '.svg';\r\n        buttonContainer.appendChild(button);\r\n\r\n        return button;\r\n    }\r\n\r\n    /*\r\n        Setur rétta stýringu á alla hnappa\r\n    */\r\n    function setControls() {\r\n        playbutton.style.display = 'none';\r\n        unmutebutton.style.display = 'none';\r\n\r\n        playbutton.addEventListener('click', playVideo);\r\n        pausebutton.addEventListener('click', pauseVideo);\r\n        backbutton.addEventListener('click', backVideo);\r\n        nextbutton.addEventListener('click', forwardVideo);\r\n        mutebutton.addEventListener('click', muteVideo);\r\n        unmutebutton.addEventListener('click', unmuteVideo);\r\n        fullscreenbutton.addEventListener('click', fullscreenVideo);\r\n    }\r\n\r\n\r\n        /************************************************\r\n     * \r\n     *      Control föll fyrir videoplayer\r\n     * \r\n     ************************************************/\r\n\r\n    function playVideo() {\r\n        videoplayer.play();\r\n        playbutton.style.display = 'none';\r\n        pausebutton.style.display = 'inline-block';\r\n    }\r\n\r\n    function pauseVideo() {\r\n        videoplayer.pause();\r\n        playbutton.style.display = 'inline-block';\r\n        pausebutton.style.display = 'none';\r\n    }\r\n\r\n    function muteVideo() {\r\n        videoplayer.muted = true;\r\n        mutebutton.style.display = 'none';\r\n        unmutebutton.style.display = 'inline-block';\r\n    }\r\n\r\n    function unmuteVideo() {\r\n        videoplayer.muted = false;\r\n        mutebutton.style.display = 'inline-block';\r\n        unmutebutton.style.display = 'none';\r\n    }\r\n\r\n    function backVideo() {\r\n        videoplayer.currentTime -= 5;\r\n    }\r\n\r\n    function forwardVideo() {\r\n        videoplayer.currentTime += 5;\r\n    }\r\n\r\n    function fullscreenVideo() {\r\n        if (videoplayer.mozRequestFullScreen) {\r\n            videoplayer.mozRequestFullScreen();\r\n        } else if (videoplayer.webkitRequestFullScreen) {\r\n            videoplayer.webkitRequestFullScreen();\r\n        }  \r\n    }\r\n\r\n    /************* Control föll enda  ***********************/\r\n\r\n\r\n    /*\r\n        Keyrslufall síðu\r\n    */\r\n    function init() {\r\n        videocontainer = document.querySelector('main .videoplayer');\r\n        \r\n        fetchData();\r\n\r\n    }\r\n\r\n    return {\r\n        init: init\r\n    }\r\n\r\n})() ;\r\n"]}