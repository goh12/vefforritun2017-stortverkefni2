{"version":3,"sources":["videoplayer.js"],"names":[],"mappings":";;AAAA,IAAM,UAAU,eAAhB;;AAEA,SAAS,gBAAT,CAA0B,kBAA1B,EAA8C,YAAW;AACrD,gBAAY,IAAZ;AACH,CAFD;;AAIA,IAAI,cAAe,YAAW;AAC1B,QAAI,cAAJ;AACA,QAAI,WAAJ;;AAEA,QAAI,UAAJ;AACA,QAAI,WAAJ;AACA,QAAI,UAAJ;AACA,QAAI,UAAJ;AACA,QAAI,UAAJ;AACA,QAAI,YAAJ;AACA,QAAI,gBAAJ;;AAEA,aAAS,SAAT,GAAqB;AACjB,YAAM,MAAM,IAAI,GAAJ,CAAQ,OAAO,QAAP,CAAgB,IAAxB,CAAZ;AACA,YAAM,WAAW,IAAI,YAAJ,CAAiB,GAAjB,CAAqB,IAArB,CAAjB;;AAEA,YAAI,IAAI,IAAI,cAAJ,EAAR;AACA;AACA,UAAE,IAAF,CAAO,KAAP,EAAc,OAAd,EAAuB,IAAvB;;AAEA,UAAE,MAAF,GAAW,YAAW;AAClB,gBAAG,EAAE,MAAF,IAAY,GAAf,EAAoB;AACpB,oBAAI,UAAU,KAAK,KAAL,CAAW,EAAE,QAAb,CAAd;AACA,oBAAM,YAAY,QAAQ,MAAR,CAAe,QAAf,CAAlB;AACA,kCAAkB,SAAlB;AACC,aAJD,MAIO,IAAI,EAAE,MAAF,IAAY,GAAhB,EAAqB,CAE3B;AACJ,SARD;;AAUA,UAAE,OAAF,GAAY,YAAW;AACnB,oBAAQ,GAAR,CAAY,cAAZ;AACH,SAFD;;AAIA,UAAE,IAAF;AACH;;AAGD,aAAS,iBAAT,CAA2B,SAA3B,EAAsC;;AAElC,YAAM,UAAU,SAAS,aAAT,CAAuB,IAAvB,CAAhB;AACA,gBAAQ,SAAR,GAAoB,sBAApB;AACA,gBAAQ,WAAR,GAAsB,UAAU,KAAhC;AACA,sBAAc,SAAS,aAAT,CAAuB,OAAvB,CAAd;AACA,oBAAY,SAAZ,GAAwB,mBAAxB;AACA,oBAAY,GAAZ,GAAkB,UAAU,KAA5B;;AAEA,uBAAe,WAAf,CAA2B,OAA3B;AACA,uBAAe,WAAf,CAA2B,WAA3B;AACA;AACA,oBAAY,IAAZ;AAEH;;AAED,aAAS,WAAT,GAAuB;AACnB,mBAAW,KAAX,CAAiB,OAAjB,GAA2B,MAA3B;AACA,qBAAa,KAAb,CAAmB,OAAnB,GAA6B,MAA7B;;AAEA,mBAAW,gBAAX,CAA4B,OAA5B,EAAqC,SAArC;AACA,oBAAY,gBAAZ,CAA6B,OAA7B,EAAsC,UAAtC;AACA,mBAAW,gBAAX,CAA4B,OAA5B,EAAqC,SAArC;AACA,mBAAW,gBAAX,CAA4B,OAA5B,EAAqC,YAArC;AACA,mBAAW,gBAAX,CAA4B,OAA5B,EAAqC,SAArC;AACA,qBAAa,gBAAb,CAA8B,OAA9B,EAAuC,WAAvC;AACA,yBAAiB,gBAAjB,CAAkC,OAAlC,EAA2C,eAA3C;AACH;;AAGG;;;;;;AAMJ,aAAS,SAAT,GAAqB;AACjB,oBAAY,IAAZ;AACA,mBAAW,KAAX,CAAiB,OAAjB,GAA2B,MAA3B;AACA,oBAAY,KAAZ,CAAkB,OAAlB,GAA4B,cAA5B;AACH;;AAED,aAAS,UAAT,GAAsB;AAClB,oBAAY,KAAZ;AACA,mBAAW,KAAX,CAAiB,OAAjB,GAA2B,cAA3B;AACA,oBAAY,KAAZ,CAAkB,OAAlB,GAA4B,MAA5B;AACH;;AAED,aAAS,SAAT,GAAqB;AACjB,oBAAY,KAAZ,GAAoB,IAApB;AACA,mBAAW,KAAX,CAAiB,OAAjB,GAA2B,MAA3B;AACA,qBAAa,KAAb,CAAmB,OAAnB,GAA6B,cAA7B;AACH;;AAED,aAAS,WAAT,GAAuB;AACnB,oBAAY,KAAZ,GAAoB,KAApB;AACA,mBAAW,KAAX,CAAiB,OAAjB,GAA2B,cAA3B;AACA,qBAAa,KAAb,CAAmB,OAAnB,GAA6B,MAA7B;AACH;;AAED,aAAS,SAAT,GAAqB;AACjB,oBAAY,WAAZ,IAA2B,CAA3B;AACH;;AAED,aAAS,YAAT,GAAwB;AACpB,oBAAY,WAAZ,IAA2B,CAA3B;AACH;;AAED,aAAS,eAAT,GAA2B;AACvB,YAAI,YAAY,oBAAhB,EAAsC;AAClC,wBAAY,oBAAZ;AACH,SAFD,MAEO,IAAI,YAAY,uBAAhB,EAAyC;AAC5C,wBAAY,uBAAZ;AACH;AACJ;;AAID,aAAS,IAAT,GAAgB;AACZ,yBAAiB,SAAS,aAAT,CAAuB,8BAAvB,CAAjB;AACA,qBAAa,SAAS,aAAT,CAAuB,oCAAvB,CAAb;AACA,sBAAc,SAAS,aAAT,CAAuB,qCAAvB,CAAd;AACA,qBAAa,SAAS,aAAT,CAAuB,oCAAvB,CAAb;AACA,qBAAa,SAAS,aAAT,CAAuB,oCAAvB,CAAb;AACA,qBAAa,SAAS,aAAT,CAAuB,oCAAvB,CAAb;AACA,uBAAe,SAAS,aAAT,CAAuB,sCAAvB,CAAf;AACA,2BAAmB,SAAS,aAAT,CAAuB,0CAAvB,CAAnB;;AAEA;AAEH;;AAED,WAAO;AACH,cAAM;AADH,KAAP;AAIH,CAtIiB,EAAlB","file":"compiled-videoplayer.js","sourcesContent":["const API_URL = \"./videos.json\";\n\ndocument.addEventListener('DOMContentLoaded', function() {\n    videoplayer.init();\n});\n\nvar videoplayer = (function() {\n    var videocontainer;\n    var videoplayer;\n\n    var playbutton;\n    var pausebutton;\n    var backbutton;\n    var nextbutton;\n    var mutebutton;\n    var unmutebutton;\n    var fullscreenbutton;\n\n    function fetchData() {\n        const url = new URL(window.location.href);\n        const video_id = url.searchParams.get('id');\n\n        var r = new XMLHttpRequest();\n        //Set upp beiðni\n        r.open('GET', API_URL, true);\n\n        r.onload = function() {\n            if(r.status == 200) {\n            var results = JSON.parse(r.response);\n            const videoInfo = results.videos[video_id];\n            createVideoPlayer(videoInfo);\n            } else if (r.status >= 400) {\n\n            }\n        }\n\n        r.onerror = function() {\n            console.log('Óþekkt villa');\n        }\n\n        r.send();\n    }\n\n\n    function createVideoPlayer(videoInfo) {\n\n        const heading = document.createElement('h2');\n        heading.className = 'videoplayer__heading';\n        heading.textContent = videoInfo.title;\n        videoplayer = document.createElement('video');\n        videoplayer.className = 'videoplayer__view';\n        videoplayer.src = videoInfo.video;\n\n        videocontainer.appendChild(heading);\n        videocontainer.appendChild(videoplayer);\n        setControls();\n        videoplayer.play();\n\n    }\n\n    function setControls() {\n        playbutton.style.display = 'none';\n        unmutebutton.style.display = 'none';\n\n        playbutton.addEventListener('click', playVideo);\n        pausebutton.addEventListener('click', pauseVideo);\n        backbutton.addEventListener('click', backVideo);\n        nextbutton.addEventListener('click', forwardVideo);\n        mutebutton.addEventListener('click', muteVideo);\n        unmutebutton.addEventListener('click', unmuteVideo);\n        fullscreenbutton.addEventListener('click', fullscreenVideo);\n    }\n\n\n        /************************************************\n     * \n     *      Control föll fyrir videoplayer\n     * \n     ************************************************/\n\n    function playVideo() {\n        videoplayer.play();\n        playbutton.style.display = 'none';\n        pausebutton.style.display = 'inline-block';\n    }\n\n    function pauseVideo() {\n        videoplayer.pause();\n        playbutton.style.display = 'inline-block';\n        pausebutton.style.display = 'none';\n    }\n\n    function muteVideo() {\n        videoplayer.muted = true;\n        mutebutton.style.display = 'none';\n        unmutebutton.style.display = 'inline-block';\n    }\n\n    function unmuteVideo() {\n        videoplayer.muted = false;\n        mutebutton.style.display = 'inline-block';\n        unmutebutton.style.display = 'none';\n    }\n\n    function backVideo() {\n        videoplayer.currentTime -= 5;\n    }\n\n    function forwardVideo() {\n        videoplayer.currentTime += 5;\n    }\n\n    function fullscreenVideo() {\n        if (videoplayer.mozRequestFullScreen) {\n            videoplayer.mozRequestFullScreen();\n        } else if (videoplayer.webkitRequestFullScreen) {\n            videoplayer.webkitRequestFullScreen();\n        }  \n    }\n\n\n\n    function init() {\n        videocontainer = document.querySelector('main .videoplayer__container');\n        playbutton = document.querySelector('.videoplayer__controls__item--play');\n        pausebutton = document.querySelector('.videoplayer__controls__item--pause');\n        backbutton = document.querySelector('.videoplayer__controls__item--back');\n        nextbutton = document.querySelector('.videoplayer__controls__item--next');\n        mutebutton = document.querySelector('.videoplayer__controls__item--mute');\n        unmutebutton = document.querySelector('.videoplayer__controls__item--unmute');\n        fullscreenbutton = document.querySelector('.videoplayer__controls__item--fullscreen');\n\n        fetchData();\n\n    }\n\n    return {\n        init: init\n    }\n\n})() ;\n"]}